#### 如何把一个文件快速下发到 100w 个服务器？

采用 p2p 网络形式，比如树状形式，网状形式，单个节点既可以从其他节点接收服务又可以向其他节点提供服务。

对于树状传递，在 100W 台服务器这种量级上，可能存在两个问题：

如果树上的某一个节点坏掉了，那么从这个节点往下的所有服务器全部宕机。
如果树中的某条路径，传递时间太长了（网络中，两个节点间的传递速度受很多因素的影响，可能相差成百上千倍），使得传递效率退化。
改进：100W 台服务器相当于有 100W 个节点的连通图。那么我们可以在图里生成多颗不同的生成树，在进行数据下发时，同时按照多颗不同的树去传递数据。这样就可以避免某个中间节点宕机，影响到后续的节点。同时这种传递方法实际上是一种依据时间的广度优先遍历，可以避免某条路径过长造成的效率低下。