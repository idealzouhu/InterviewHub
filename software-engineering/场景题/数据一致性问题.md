

假设消费者消费成功的话，商家没有收到消息，这个应该怎么解决？





### 消息重复

#### 保证不重复接单

如果一个外卖配送单子要发布，现在有200个骑手都想要接这一单，如何保证只有一个骑手接到单子？

（1）单机

使用 volatile 修饰该订单，并采用 CAS 操作对其加了乐观锁操作

(1) 分布式

- 利用 Redis 实现分布式
- 消息队列实现幂等接口





#### 多个微信用户抢红包

1. 数据库加乐观锁、悲观锁
2. 在逻辑处理界面加分布式锁
3. 消息队列







### 其他

**问题描述：**在分布式通信里面，异步调用怎么知道结果？

**答案解析：**回调通知